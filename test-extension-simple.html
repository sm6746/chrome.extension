<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Extension Test - Simple</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-box {
            background: white;
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .success { border-left: 4px solid #4CAF50; }
        .error { border-left: 4px solid #f44336; }
        .info { border-left: 4px solid #2196F3; }
        .step {
            margin: 10px 0;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 4px;
        }
        .code {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>üîß LinkedIn Connections Extension - Test Page</h1>
    
    <div class="test-box info">
        <h2>üìã Quick Test Steps</h2>
        <div class="step">
            <strong>1.</strong> Go to <code>https://www.linkedin.com</code> and make sure you're logged in
        </div>
        <div class="step">
            <strong>2.</strong> Click the extension icon in your Chrome toolbar
        </div>
        <div class="step">
            <strong>3.</strong> You should see the LinkedIn Connections Dashboard
        </div>
        <div class="step">
            <strong>4.</strong> The dashboard should show some sample connections (mock data for now)
        </div>
    </div>
    
    <div class="test-box success">
        <h2>‚úÖ Expected Results</h2>
        <ul>
            <li>Extension popup opens without errors</li>
            <li>Dashboard loads with search and filter options</li>
            <li>Sample connections are displayed</li>
            <li>No "message channel closed" errors</li>
            <li>No "content script not loaded" errors</li>
        </ul>
    </div>
    
    <div class="test-box error">
        <h2>‚ùå If You Still Get Errors</h2>
        <div class="code">
            <strong>Error: "Content script not loaded"</strong><br>
            ‚Üí Refresh the LinkedIn page and try again
        </div>
        <div class="code">
            <strong>Error: "Message channel closed"</strong><br>
            ‚Üí Reload the extension in chrome://extensions/
        </div>
        <div class="code">
            <strong>Error: "User not logged in"</strong><br>
            ‚Üí Make sure you're logged into LinkedIn
        </div>
    </div>
    
    <div class="test-box info">
        <h2>üîç Debug Information</h2>
        <p><strong>Current URL:</strong> <span id="current-url"></span></p>
        <p><strong>Extension Status:</strong> <span id="extension-status">Testing...</span></p>
        <button onclick="testExtension()">Test Extension Now</button>
        <div id="test-results"></div>
    </div>

    <script>
        // Show current URL
        document.getElementById('current-url').textContent = window.location.href;
        
        // Test extension functionality
        function testExtension() {
            const resultsDiv = document.getElementById('test-results');
            const statusDiv = document.getElementById('extension-status');
            
            resultsDiv.innerHTML = '<p>Testing extension...</p>';
            
            // Test if we're on LinkedIn
            if (window.location.href.includes('linkedin.com')) {
                statusDiv.textContent = '‚úÖ On LinkedIn';
                resultsDiv.innerHTML += '<p>‚úÖ You are on LinkedIn</p>';
                
                // Test extension
                if (typeof chrome !== 'undefined' && chrome.runtime) {
                    chrome.runtime.sendMessage({ action: 'getConnections' }, (response) => {
                        if (chrome.runtime.lastError) {
                            resultsDiv.innerHTML += `<p>‚ùå Extension error: ${chrome.runtime.lastError.message}</p>`;
                        } else if (response) {
                            resultsDiv.innerHTML += `<p>‚úÖ Extension responded: ${JSON.stringify(response)}</p>`;
                        } else {
                            resultsDiv.innerHTML += '<p>‚ùå No response from extension</p>';
                        }
                    });
                } else {
                    resultsDiv.innerHTML += '<p>‚ùå Chrome extension API not available</p>';
                }
            } else {
                statusDiv.textContent = '‚ùå Not on LinkedIn';
                resultsDiv.innerHTML += '<p>‚ùå Please navigate to LinkedIn first</p>';
            }
        }
        
        // Auto-test if on LinkedIn
        if (window.location.href.includes('linkedin.com')) {
            setTimeout(testExtension, 1000);
        }
    </script>
</body>
</html>

